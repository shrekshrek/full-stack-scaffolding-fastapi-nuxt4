{
  "name": "full-stack-monorepo",
  "private": true,
  "scripts": {
    "setup": "pnpm install && docker-compose build",
    "//--- Development ---": "",
    "dev": "pnpm stop && concurrently -k -n DOCKER,WEB -c blue,cyan 'docker-compose up --build' 'pnpm fe:dev'",
    "stop": "docker-compose down && npm run kill:port",
    "kill:port": "lsof -ti:3000 | xargs kill -9 2>/dev/null || true",
    "//--- Production ---": "",
    "build": "docker-compose -f docker-compose.prod.yml build",
    "build:fe": "docker-compose -f docker-compose.prod.yml build frontend",
    "build:be": "docker-compose -f docker-compose.prod.yml build backend",
    "prod:deploy": "./scripts/deploy-production.sh",
    "prod:up": "docker-compose -f docker-compose.prod.yml up -d",
    "prod:down": "docker-compose -f docker-compose.prod.yml down",
    "prod:logs": "docker-compose -f docker-compose.prod.yml logs -f",
    "prod:restart": "docker-compose -f docker-compose.prod.yml restart",
    "//--- Infrastructure (Dev) ---": "",
    "compose:up": "docker-compose up",
    "compose:down": "docker-compose down",
    "//--- Frontend (Nuxt) ---": "",
    "fe:install": "pnpm --prefix frontend install",
    "fe:add": "pnpm --prefix frontend add",
    "fe:dev": "pnpm --prefix frontend dev",
    "fe:lint": "pnpm --prefix frontend lint",
    "fe:typecheck": "pnpm --prefix frontend typecheck",
    "//--- Backend (FastAPI) ---": "",
    "be:install": "docker-compose exec backend uv sync",
    "be:add": "docker-compose exec backend uv add",
    "be:shell": "docker-compose exec backend bash",
    "be:db:cli": "docker-compose exec postgres-db psql -U postgres -d fastapi_db",
    "be:migrate:up": "docker-compose exec backend uv run alembic upgrade head",
    "be:migrate:make": "docker-compose exec backend uv run alembic revision --autogenerate -m",
    "be:lint": "docker-compose exec backend uv run ruff check --fix",
    "be:format": "docker-compose exec backend uv run ruff format",
    "be:test:setup": "cd backend && uv run python tests/setup_test_db.py",
    "be:test": "docker-compose up -d postgres_db redis && sleep 2 && pnpm be:test:setup && cd backend && uv run pytest",
    "be:test:watch": "docker-compose up -d postgres_db redis && cd backend && uv run pytest-watch",
    "be:test:cov": "docker-compose up -d postgres_db redis && sleep 2 && pnpm be:test:setup && cd backend && uv run pytest --cov=src --cov-report=term-missing"
  },
  "devDependencies": {
    "concurrently": "^9.2.0",
    "dotenv-cli": "^8.0.0"
  },
  "packageManager": "pnpm@10.10.0+sha512.d615db246fe70f25dcfea6d8d73dee782ce23e2245e3c4f6f888249fb568149318637dca73c2c5c8ef2a4ca0d5657fb9567188bfab47f566d1ee6ce987815c39"
}
